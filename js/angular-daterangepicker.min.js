(function(){var t;t=angular.module("daterangepicker",[]),t.constant("dateRangePickerConfig",{clearLabel:"Clear",locale:{separator:" - ",format:"YYYY-MM-DD"}}),t.directive("dateRangePicker",["$compile","$timeout","$parse","dateRangePickerConfig",function(t,e,n,a){return{require:"ngModel",restrict:"A",scope:{min:"=",max:"=",model:"=ngModel",opts:"=options",clearable:"="},link:function(t,e,n,r){var o,u,l,i,c,s,d,f,m,D,p,g,v,y;return i=function(){var t,e;return e=angular.extend.apply(angular,Array.prototype.slice.call(arguments).map(function(t){return null!=t?t.locale:void 0}).filter(function(t){return!!t})),t=angular.extend.apply(angular,arguments),t.locale=e,t},v=$(e),g=t.opts,y=i({},a,g),c=null,o=function(){return c.setStartDate(),c.setEndDate()},s=function(t){return function(e){return c&&e?t(moment(e)):void 0}},f=s(function(t){return c.endDate<t&&c.setEndDate(t),y.startDate=t,c.setStartDate(t)}),d=s(function(t){return c.startDate>t&&c.setStartDate(t),y.endDate=t,c.setEndDate(t)}),m=function(t){return function(e,n){return e&&n?t(moment(e),moment(n)):!0}},p=m(function(t,e){return t.isBefore(e)||t.isSame(e,"day")}),D=m(function(t,e){return t.isAfter(e)||t.isSame(e,"day")}),r.$formatters.push(function(t){var e;return e=function(t){return moment.isMoment(t)?t.format(y.locale.format):moment(t).format(y.locale.format)},y.singleDatePicker&&t&&t.startDate?e(t.startDate):t&&t.startDate?[e(t.startDate),e(t.endDate)].join(y.locale.separator):""}),r.$render=function(){return r.$modelValue&&r.$modelValue.startDate?(f(r.$modelValue.startDate),d(r.$modelValue.endDate)):o(),v.val(r.$viewValue)},r.$parsers.push(function(t){var e,n,a;return e=function(t){return moment(t,y.locale.format)},n={startDate:null,endDate:null},angular.isString(t)&&t.length>0&&(y.singleDatePicker?n=e(t):(a=t.split(y.locale.separator).map(e),n.startDate=a[0].startOf("day"),n.endDate=a[1].endOf("day"))),n}),r.$isEmpty=function(t){return!(angular.isString(t)&&t.length>0)},u=function(){var e,n;v.daterangepicker(angular.extend(y,{autoUpdateInput:!1}),function(e,n){return t.$apply(function(){return t.model=y.singleDatePicker?{startDate:e}:{startDate:e,endDate:n}})}),c=v.data("daterangepicker"),n=[];for(e in y.eventHandlers)n.push(v.on(e,function(e){var n;return n=e.type+"."+e.namespace,t.$evalAsync(y.eventHandlers[n])}));return n},u(),t.$watch("model.startDate",function(t){return f(t)}),t.$watch("model.endDate",function(t){return d(t)}),l=function(e,a,o,l){return n[e]?(r.$validators[e]=function(t){return t&&a(y[l],t[o])},t.$watch(e,function(t){return y[l]=t?moment(t):!1,u()})):void 0},l("min",p,"startDate","minDate"),l("max",D,"endDate","maxDate"),n.options&&t.$watch("opts",function(t){return y=i(y,t),u()},!0),n.clearable&&t.$watch("clearable",function(e){return e&&(y=i(y,{locale:{cancelLabel:y.clearLabel}})),u(),e?v.on("cancel.daterangepicker",function(){return t.$apply(function(){return t.model=y.singleDatePicker?null:{startDate:null,endDate:null}})}):void 0}),t.$on("$destroy",function(){return null!=c?c.remove():void 0})}}}])}).call(this);